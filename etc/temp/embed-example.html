<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Excalidraw Embed Example</title>
    
    <!-- Dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@excalidraw/excalidraw@0.17.6/dist/excalidraw.production.min.js" defer></script>
    
    <!-- Excalidraw Modules -->
    <script src="lz-string-decompressor.js"></script>
    <script src="excalidraw-renderer.js"></script>
    <script src="excalidraw-embed.js"></script>

    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .excalidraw-embed { 
            width: 100%; 
            height: 400px; 
            border: 1px solid #ccc; 
            margin: 20px 0;
            border-radius: 4px;
        }
        .code { 
            background: #f4f4f4; 
            padding: 10px; 
            border-radius: 4px; 
            font-family: monospace; 
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>üé® Excalidraw Embed Examples</h1>
    
    <h2>1. Load from URL (Obsidian .excalidraw.md file)</h2>
    <div class="excalidraw-embed" data-excalidraw-src="./excali-md.md"></div>
    
    <p><strong>Code:</strong></p>
    <div class="code">&lt;div class="excalidraw-embed" data-excalidraw-src="./excali-md.md"&gt;&lt;/div&gt;</div>
    
    <h2>2. Inline JSON Data</h2>
    <div class="excalidraw-embed" data-excalidraw-data='{"type":"excalidraw","version":2,"elements":[{"id":"rect1","type":"rectangle","x":100,"y":100,"width":200,"height":100,"strokeColor":"#1e1e1e","backgroundColor":"#ffffff","strokeWidth":2,"text":"Hello World!","fontSize":16,"isDeleted":false}],"appState":{"viewBackgroundColor":"#FFFFFF"}}'></div>
    
    <p><strong>Code:</strong></p>
    <div class="code">&lt;div class="excalidraw-embed" data-excalidraw-data='{"type":"excalidraw",...}'&gt;&lt;/div&gt;</div>
    
    <h2>3. Programmatic Rendering</h2>
    <div id="programmatic-example" class="excalidraw-embed"></div>
    <button onclick="loadProgrammatic()">Load Diagram</button>
    
    <p><strong>Code:</strong></p>
    <div class="code">// JavaScript
const renderer = new ExcalidrawRenderer();
await renderer.renderFromUrl('./excali-md.md', 'programmatic-example');</div>

    <script>
        // Example of programmatic rendering
        async function loadProgrammatic() {
            try {
                const renderer = new window.ExcalidrawRenderer();
                await renderer.renderFromUrl('./excali-md.md', 'programmatic-example');
                console.log('‚úÖ Programmatic rendering successful');
            } catch (error) {
                console.error('‚ùå Programmatic rendering failed:', error);
            }
        }
    </script>

</body>
</html>
